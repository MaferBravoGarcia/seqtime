<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Assign Taxon Levels — assignTaxonLevelsToA • seqtime</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">seqtime</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/hallucigenia-sparsa/seqtime">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Assign Taxon Levels</h1>
    </div>

    
    <p>Assign OTU identifiers or higher-level taxon names to an interaction matrix</p>
    

    <pre class="usage"><span class='fu'>assignTaxonLevelsToA</span>(<span class='no'>A</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>metadata</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>lineages</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>""</span>,
  <span class='kw'>taxon.level</span> <span class='kw'>=</span> <span class='st'>"genus"</span>, <span class='kw'>pos.only</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>neg.only</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>uniqueNames</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>higherLevelNames</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>no.merge</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>A</th>
      <td><p>an interaction matrix</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>(optional) a matrix with taxon abundances, rows are taxa and columns are samples (only needed if type is non-empty)</p></td>
    </tr>
    <tr>
      <th>metadata</th>
      <td><p>(optional) a matrix with metadata, samples match samples in OTU table (only needed if type is non-empty)</p></td>
    </tr>
    <tr>
      <th>lineages</th>
      <td><p>a matrix with lineages, for the format please see data david_stool_lineages</p></td>
    </tr>
    <tr>
      <th>type</th>
      <td><p>if non-empty, process data exactly as in method generateTS, supported: stoola and stoolb</p></td>
    </tr>
    <tr>
      <th>taxon.level</th>
      <td><p>the taxon level to be assigned as row and column names, supported: otu, species, genus, family, order, class, phylum</p></td>
    </tr>
    <tr>
      <th>pos.only</th>
      <td><p>merge only positive entries such that final interaction matrix only contains positive entries (not carried out if uniqueNames is TRUE)</p></td>
    </tr>
    <tr>
      <th>neg.only</th>
      <td><p>merge only negative entries such that final interaction matrix only contains negative entries (not carried out if uniqueNames is TRUE)</p></td>
    </tr>
    <tr>
      <th>uniqueNames</th>
      <td><p>make names unique by appending a counter if needed (prevents merging of entries belonging to the same taxon)</p></td>
    </tr>
    <tr>
      <th>higherLevelNames</th>
      <td><p>if given level is not known, assign the highest level that is known</p></td>
    </tr>
    <tr>
      <th>no.merge</th>
      <td><p>suppress merging (in this case, taxon names are returned in a separate column of the matrix, not as row and column names)</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>By default, interactions will be merged to the given higher-level taxon level by
adding 1 for a positive entry and subtracting 1 for a negative entry. If only positive or only
negative entries are merged, the sum of positive or negative entries will be returned.
If uniqueNames is set to TRUE, merging is not carried out. Merging can also be suppressed with option no.merge.
In this case, since non-unique row and column names are not allowed, taxon names are returned as a separate column
in the interaction matrix.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>data</span>(<span class='st'>"david_stool_lineages"</span>)
<span class='co'># make a random OTU interaction matrix as an example</span>
<span class='no'>N</span><span class='kw'>=</span><span class='fl'>30</span>
<span class='no'>A</span><span class='kw'>=</span><span class='fu'><a href='generateA.html'>generateA</a></span>(<span class='kw'>N</span><span class='kw'>=</span><span class='no'>N</span>,<span class='kw'>c</span><span class='kw'>=</span><span class='fl'>0.1</span>)</div><div class='output co'>#&gt; [1] "Adjusting connectance to 0.1"
#&gt; [1] "Initial edge number 900"
#&gt; [1] "Initial connectance 1"
#&gt; [1] "Number of edges removed 783"
#&gt; [1] "Final connectance 0.1"
#&gt; [1] "Final connectance: 0.1"</div><div class='input'><span class='no'>randomOTUIndices</span><span class='kw'>=</span><span class='fu'>sample</span>(<span class='fl'>1</span>:<span class='fu'>nrow</span>(<span class='no'>david_stool_lineages</span>))[<span class='fl'>1</span>:<span class='no'>N</span>]
<span class='fu'>rownames</span>(<span class='no'>A</span>)<span class='kw'>=</span><span class='no'>david_stool_lineages</span>[<span class='no'>randomOTUIndices</span>,<span class='fl'>1</span>]
<span class='fu'>colnames</span>(<span class='no'>A</span>)<span class='kw'>=</span><span class='fu'>rownames</span>(<span class='no'>A</span>)
<span class='no'>Aclass</span><span class='kw'>=</span><span class='fu'>assignTaxonLevelsToA</span>(<span class='no'>A</span>,<span class='kw'>lineages</span><span class='kw'>=</span><span class='no'>david_stool_lineages</span>, <span class='kw'>taxon.level</span><span class='kw'>=</span><span class='st'>"class"</span>)</div><div class='output co'>#&gt; [1] "Initial edge number 147"
#&gt; [1] "Initial connectance 0.125671321160043"
#&gt; [1] "Final connectance: 0.444444444444444"</div><div class='input'><span class='no'>classnetwork</span><span class='kw'>=</span><span class='fu'><a href='plotA.html'>plotA</a></span>(<span class='no'>Aclass</span>,<span class='kw'>method</span><span class='kw'>=</span><span class='st'>"network"</span>)</div><div class='output co'>#&gt; [1] "Largest value: 3"
#&gt; [1] "Smallest value: -11"
#&gt; [1] "Initial edge number 41"
#&gt; [1] "Initial connectance 0.444444444444444"
#&gt; [1] "Final connectance: 0.444444444444444"</div><img src='assignTaxonLevelsToA-7.png' alt='' width='540' height='400' /></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Karoline Faust, Franziska Bauchinger, Sophie de Buyl, Leo Lahti.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
