<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Generate community time series — generateTS • seqtime</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Generate community time series — generateTS" />

<meta property="og:description" content="Wrapper function for time series generation.
The result folder has a specific structure that is
created if it does not yet exist. It has two
sub-folders, one named timeseries and the other
settings. In both sub-folders, there are folders
having as name the experiment identifier followed by
timeseries or settings. The interaction matrix,
immigration and extinction rates, carrying capacities
and other randomly generated input are also
stored in settings. The idea is that the time
series can be re-created from the information
stored in the settings folder (though not
exactly, since the SOI, Ricker and neutral models have random components).
Furthermore, a plot of the time series and (if required by the model) the interaction
matrix is stored in settings, for control. Properties of the interaction matrix
are also stored there." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">seqtime</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/dataset_generation.html">Generating synthetic datasets with seqtime and generalized Lotka-Volterra</a>
    </li>
    <li>
      <a href="../articles/network_inference.html">Network inference with LIMITS</a>
    </li>
    <li>
      <a href="../articles/noise_simulations.html">Noise simulation examples</a>
    </li>
    <li>
      <a href="../articles/seqtime_tour.html">Tour through seqtime - Properties of time series generated with different ecological models</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/hallucigenia-sparsa/seqtime">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generate community time series</h1>
    <small class="dont-index">Source: <a href='https://github.com/hallucigenia-sparsa/seqtime/blob/master/R/generateTS.R'><code>R/generateTS.R</code></a></small>
    <div class="hidden name"><code>generateTS.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Wrapper function for time series generation.
The result folder has a specific structure that is
created if it does not yet exist. It has two
sub-folders, one named timeseries and the other
settings. In both sub-folders, there are folders
having as name the experiment identifier followed by
timeseries or settings. The interaction matrix,
immigration and extinction rates, carrying capacities
and other randomly generated input are also
stored in settings. The idea is that the time
series can be re-created from the information
stored in the settings folder (though not
exactly, since the SOI, Ricker and neutral models have random components).
Furthermore, a plot of the time series and (if required by the model) the interaction
matrix is stored in settings, for control. Properties of the interaction matrix
are also stored there.</p>
    
    </div>

    <pre class="usage"><span class='fu'>generateTS</span>(<span class='kw'>N</span> <span class='kw'>=</span> <span class='fl'>100</span>, <span class='kw'>I</span> <span class='kw'>=</span> <span class='fl'>1500</span>, <span class='kw'>tend</span> <span class='kw'>=</span> <span class='fl'>100</span>, <span class='kw'>initAbundMode</span> <span class='kw'>=</span> <span class='fl'>5</span>,
  <span class='kw'>c</span> <span class='kw'>=</span> <span class='fl'>0.05</span>, <span class='kw'>clique.size</span> <span class='kw'>=</span> <span class='fl'>5</span>, <span class='kw'>sigma</span> <span class='kw'>=</span> <span class='fl'>0.05</span>, <span class='kw'>theta</span> <span class='kw'>=</span> <span class='fl'>0.002</span>,
  <span class='kw'>Atype</span> <span class='kw'>=</span> <span class='st'>"klemm"</span>, <span class='kw'>Atweak</span> <span class='kw'>=</span> <span class='st'>"tweak"</span>, <span class='kw'>d</span> <span class='kw'>=</span> -<span class='fl'>1</span>, <span class='kw'>PEP</span> <span class='kw'>=</span> <span class='fl'>30</span>, <span class='kw'>m</span> <span class='kw'>=</span> <span class='fl'>0.02</span>,
  <span class='kw'>deathrate</span> <span class='kw'>=</span> <span class='fl'>10</span>, <span class='kw'>algorithm</span> <span class='kw'>=</span> <span class='st'>"dm"</span>, <span class='kw'>interval</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>output.folder</span> <span class='kw'>=</span> <span class='st'>""</span>, <span class='kw'>output.expId</span> <span class='kw'>=</span> <span class='st'>""</span>, <span class='kw'>input.folder</span> <span class='kw'>=</span> <span class='st'>""</span>,
  <span class='kw'>input.expId</span> <span class='kw'>=</span> <span class='st'>""</span>, <span class='kw'>read.A</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>read.y</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>read.K</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>read.extinct</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>read.ts</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>maxIter</span> <span class='kw'>=</span> <span class='fl'>10</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>N</th>
      <td><p>species number (for hubbell, refers to the species number in the metacommunity)</p></td>
    </tr>
    <tr>
      <th>I</th>
      <td><p>individual number (only for SOI and hubbell)</p></td>
    </tr>
    <tr>
      <th>tend</th>
      <td><p>the number of time points to generate</p></td>
    </tr>
    <tr>
      <th>initAbundMode</th>
      <td><p>the mode in which initial abundances are generated (described in function generateAbundances)</p></td>
    </tr>
    <tr>
      <th>c</th>
      <td><p>connectivity of interaction matrix (only for SOI, ricker and gLV)</p></td>
    </tr>
    <tr>
      <th>clique.size</th>
      <td><p>parameter for interaction matrix generation (only for SOI, ricker and glv and Atype mode klemm)</p></td>
    </tr>
    <tr>
      <th>sigma</th>
      <td><p>noise term (only for ricker)</p></td>
    </tr>
    <tr>
      <th>theta</th>
      <td><p>Dirichlet-Multinomial overdispersion parameter (only for dm)</p></td>
    </tr>
    <tr>
      <th>Atype</th>
      <td><p>method to generate the interaction matrix (described in function generateA)</p></td>
    </tr>
    <tr>
      <th>Atweak</th>
      <td><p>tweaking method for instable interaction matrix, either tweak (convert positive into negative arcs until the matrix is stable or one third of the positive arcs have been converted) or schur (apply Schur decomposition, does not guarantee a stable matrix)</p></td>
    </tr>
    <tr>
      <th>d</th>
      <td><p>diagonal value of the interaction matrix</p></td>
    </tr>
    <tr>
      <th>PEP</th>
      <td><p>positive edge percentage of interaction matrix (only for SOI, ricker and gLV)</p></td>
    </tr>
    <tr>
      <th>m</th>
      <td><p>immigration rate (only for hubbell)</p></td>
    </tr>
    <tr>
      <th>deathrate</th>
      <td><p>number of individuals that are replaced at each time step (only for hubbell)</p></td>
    </tr>
    <tr>
      <th>algorithm</th>
      <td><p>how time series should be generated (can be hubbell, soi, ricker, glv, dm, davida or davidb)</p></td>
    </tr>
    <tr>
      <th>interval</th>
      <td><p>sampling frequency (if 1, each sample is taken, if 2, every second sample is taken etc.)</p></td>
    </tr>
    <tr>
      <th>output.folder</th>
      <td><p>(optional) path to result folder, if specified, input parameter and time series are exported to the output folder</p></td>
    </tr>
    <tr>
      <th>output.expId</th>
      <td><p>(optional) the identifier of the time series generation experiment</p></td>
    </tr>
    <tr>
      <th>input.folder</th>
      <td><p>(optional) the folder from which previously generated parameters can be read</p></td>
    </tr>
    <tr>
      <th>input.expId</th>
      <td><p>(optional) the identifier of a previous experiment whose results will be read</p></td>
    </tr>
    <tr>
      <th>read.A</th>
      <td><p>read the interaction matrix from the given previous experiment</p></td>
    </tr>
    <tr>
      <th>read.y</th>
      <td><p>read the initial abundances/SOI immigration rates from the given previous experiment (for hubbell, initial abundances refer to the metacommunity)</p></td>
    </tr>
    <tr>
      <th>read.K</th>
      <td><p>read the carrying capacities/growth rates from the given previous experiment</p></td>
    </tr>
    <tr>
      <th>read.extinct</th>
      <td><p>read the SOI extinction rates from the given previous experiment</p></td>
    </tr>
    <tr>
      <th>read.ts</th>
      <td><p>read the previously generated time series from the given previous experiment</p></td>
    </tr>
    <tr>
      <th>maxIter</th>
      <td><p>maximal iteration number for finding a stable interaction matrix</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>list containing the generated interaction matrix, initial abundances (they double as immigration probabilities for soi and metapopulation proportions for hubbell), carrying capacities (they double as growth rates for glv), extinction probabilities, time series and settings</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>On the random generation of parameter values:
Extinction rates are sampled from the uniform distribution
with values between 0 and 1. Carrying capacities/growth rates are sampled
from the uniform distribution with values between 0 and 0.5.
On the implementation of the neutral model: simHubbell is used to generate
neutral model time series. The 1000 first time points of the simulation are always skipped.
The species number of the local community is set to 1/10th of the species number in the
metacommunity. The local community is initialized with even abundances.
On the interaction matrix:
When the positive edge percentage is modified, symmetry is not enforced. The maximal
absolute interaction strength in the interaction matrix is set to 1.
Interaction matrix stability is tested with method "ricker", using an
explosion bound of 10^8. For interaction stabilizing method tweak, conversion of positive into negative
arcs is stopped when more than a third of the positive arcs were converted already.
On the stool data:
The stool data are processed as follows: for stool data set B, the last time point is omitted.
The data are rarefied to 10000 reads per sample, omitting samples with insufficient read numbers.
Then, using metadata on sampling days, values for missing days are interpolated with method stineman.
The top-abundant 100 taxa (according to their sum across samples) are retained and small negative values
introduced by the interpolation are set to zero.
Other settings:
For initial abundance mode 6, k is set to 0.5.
The simulation step size is always 1 (larger intervals are introduced after simulation).
Dirichet-Multinomial data are generated with a count number of 1000 per sample.</p>
    

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
          </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Karoline Faust, Franziska Bauchinger, Sophie de Buyl, Leo Lahti.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

