<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Add Noise — addNoise • seqtime</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Add Noise — addNoise" />

<meta property="og:description" content="Add noise to time series." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">seqtime</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/dataset_generation.html">Generating synthetic datasets with seqtime and generalized Lotka-Volterra</a>
    </li>
    <li>
      <a href="../articles/network_inference.html">Network inference with LIMITS</a>
    </li>
    <li>
      <a href="../articles/noise_simulations.html">Noise simulation examples</a>
    </li>
    <li>
      <a href="../articles/seqtime_tour.html">Tour through seqtime - Properties of time series generated with different ecological models</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/hallucigenia-sparsa/seqtime">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Add Noise</h1>
    <small class="dont-index">Source: <a href='https://github.com/hallucigenia-sparsa/seqtime/blob/master/R/addNoise.R'><code>R/addNoise.R</code></a></small>
    <div class="hidden name"><code>addNoise.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Add noise to time series.</p>
    
    </div>

    <pre class="usage"><span class='fu'>addNoise</span>(<span class='no'>x</span>, <span class='kw'>input.folder</span> <span class='kw'>=</span> <span class='st'>""</span>, <span class='kw'>output.folder</span> <span class='kw'>=</span> <span class='st'>""</span>, <span class='kw'>expIds</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(),
  <span class='kw'>add</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>seqdepths</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(), <span class='kw'>vary.seqdepth</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>scaling.factor</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>noise.distrib</span> <span class='kw'>=</span> <span class='st'>"pois"</span>, <span class='kw'>param1</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>param2</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>scale.noise</span> <span class='kw'>=</span> <span class='fl'>1</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>matrix with taxa as rows and time points as columns (optional, can be set to NULL if an input.folder is provided)</p></td>
    </tr>
    <tr>
      <th>input.folder</th>
      <td><p>folder from which to read time series (optional, input folder should have subfolders as generated by function generateTS.R)</p></td>
    </tr>
    <tr>
      <th>output.folder</th>
      <td><p>folder to which modified time series are written (optional)</p></td>
    </tr>
    <tr>
      <th>expIds</th>
      <td><p>set of experiment identifiers to process (only needed if input.folder is provided)</p></td>
    </tr>
    <tr>
      <th>add</th>
      <td><p>whether to sample the abundance value from the noise distribution (the default) or whether to add noise, where the noise value is sampled from the noise distribution with user-specified parameters (add is not possible for noise.distrib = multi)</p></td>
    </tr>
    <tr>
      <th>seqdepths</th>
      <td><p>specify a vector of sequencing depths with as many entries as x has columns or a single value if sequencing depth should be constant (only needed for noise.distrib = multi)</p></td>
    </tr>
    <tr>
      <th>vary.seqdepth</th>
      <td><p>if a constant sequencing depth is provided: vary sequencing depth by adding a value randomly selected from the uniform distribution between 0 and seqdepths/2 (only applicable for noise.distrib = multi)</p></td>
    </tr>
    <tr>
      <th>scaling.factor</th>
      <td><p>if unequal to one: scale observed values with the given scaling factor and round (rounding will convert non-count data into counts, recommended for Poisson and negative binomial distribution)</p></td>
    </tr>
    <tr>
      <th>noise.distrib</th>
      <td><p>which noise distribution to use (pois = Poisson, the default, nb = negative binomial, norm = Gaussian, multi = multinomial)</p></td>
    </tr>
    <tr>
      <th>param1</th>
      <td><p>first parameter for noise distribution (when add is false: standard deviation for Gaussian distribution, success probability for negative binomial, when add is true: mean for Gaussian distribution, lambda for Poisson, size for negative binomial)</p></td>
    </tr>
    <tr>
      <th>param2</th>
      <td><p>second parameter for noise distribution (only when add is true: standard deviation for Gaussian distribution, success probability for negative binomial)</p></td>
    </tr>
    <tr>
      <th>scale.noise</th>
      <td><p>divide noise value by scale.noise before adding it to the observed value (only when add is true)</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>if x is provided without an output.folder, the modified matrix is returned; if input.folder is provided without an output folder, the last processed experiment identifier is returned</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Noise is either generated by setting a noise parameter to the observed value and sampling a new value from this noise distribution (add=FALSE)
or by sampling the selected noise distribution with user-provided parameters and adding the noise value to each time point independently (add=TRUE).
When choosing to add Gaussian noise and the resulting value is negative, it will be set to zero.
When generating modified values with the negative binomial and add set to false, the resulting value is added to the observed value.
It is not recommended to enable add when using the Poisson or negative binomial distribution.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
  <span class='no'>N</span> <span class='kw'>&lt;-</span> <span class='fl'>50</span>
  <span class='no'>metapop</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='generateAbundances.html'>generateAbundances</a></span>(<span class='kw'>N</span><span class='kw'>=</span><span class='fl'>500</span>, <span class='kw'>mode</span><span class='kw'>=</span><span class='fl'>5</span>, <span class='kw'>probabs</span><span class='kw'>=</span><span class='fl'>TRUE</span>)
  <span class='no'>ts</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='simHubbell.html'>simHubbell</a></span>(<span class='kw'>N</span><span class='kw'>=</span><span class='no'>N</span>, <span class='kw'>M</span><span class='kw'>=</span><span class='fl'>500</span>,<span class='kw'>I</span><span class='kw'>=</span><span class='fl'>1500</span>,<span class='kw'>d</span><span class='kw'>=</span><span class='no'>N</span>, <span class='kw'>m.vector</span><span class='kw'>=</span><span class='no'>metapop</span>, <span class='kw'>tskip</span><span class='kw'>=</span><span class='fl'>500</span>, <span class='kw'>tend</span><span class='kw'>=</span><span class='fl'>1000</span>)
  <span class='no'>ts.noisy</span> <span class='kw'>&lt;-</span> <span class='fu'>addNoise</span>(<span class='no'>ts</span>)

<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Karoline Faust, Franziska Bauchinger, Sophie de Buyl, Leo Lahti.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

